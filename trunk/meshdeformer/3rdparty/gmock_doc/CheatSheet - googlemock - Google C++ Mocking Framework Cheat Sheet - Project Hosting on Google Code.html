<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0051)http://code.google.com/p/googlemock/wiki/CheatSheet -->
<HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <LINK rel="icon" type="image/vnd.microsoft.icon" href="http://www.gstatic.com/codesite/ph/images/phosting.ico">
 
 <SCRIPT type="text/javascript">
 
 
 
 var codesite_token = null;
 
 
 var logged_in_user_email = null;
 
 
 var relative_base_url = "";
 
 </SCRIPT>
 
 
 <TITLE>CheatSheet - 
 googlemock -
 
 Google C++ Mocking Framework Cheat Sheet - Project Hosting on Google Code</TITLE>
 
 
 <LINK type="text/css" rel="stylesheet" href="./CheatSheet - googlemock - Google C++ Mocking Framework Cheat Sheet - Project Hosting on Google Code_files/ph_core.css">
 
 <LINK type="text/css" rel="stylesheet" href="./CheatSheet - googlemock - Google C++ Mocking Framework Cheat Sheet - Project Hosting on Google Code_files/ph_detail.css">
 
 
 
 <LINK type="application/atom+xml" rel="alternate" href="http://code.google.com/feeds/p/googlemock/svnchanges/basic?path=/wiki/CheatSheet.wiki">
 
 
<!--[if IE]>
 <link type="text/css" rel="stylesheet" href="http://www.gstatic.com/codesite/ph/6513215159156155175/css/d_ie.css" >
<![endif]-->
 <STYLE type="text/css">
 .menuIcon.off { background: no-repeat url(http://www.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -42px }
 .menuIcon.on { background: no-repeat url(http://www.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -28px }
 .menuIcon.down { background: no-repeat url(http://www.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 0; }
 </STYLE>
<SCRIPT type="text/javascript" src="./CheatSheet - googlemock - Google C++ Mocking Framework Cheat Sheet - Project Hosting on Google Code_files/ga.js"></SCRIPT></HEAD><BODY class="t6">
 <SCRIPT type="text/javascript">
 var _gaq = _gaq || [];
 _gaq.push(
 ['siteTracker._setAccount', 'UA-18071-1'],
 ['siteTracker._trackPageview']);
 
 _gaq.push(
 ['projectTracker._setAccount', 'UA-4068653-1'],
 ['projectTracker._trackPageview']);
 
 (function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
 </SCRIPT>
 <DIV id="gaia">
 
 <SPAN>
 
 
 <A href="http://code.google.com/p/googlemock/wiki/CheatSheet#" id="projects-dropdown" onclick="return false;"><U>My favorites</U> <SMALL>â–¼</SMALL></A>
 
 | <A href="https://www.google.com/accounts/ServiceLogin?service=code&ltmpl=phosting&continue=http%3A%2F%2Fcode.google.com%2Fp%2Fgooglemock%2Fwiki%2FCheatSheet&followup=http%3A%2F%2Fcode.google.com%2Fp%2Fgooglemock%2Fwiki%2FCheatSheet" onclick="_CS_click(&#39;/gb/ph/signin&#39;);"><U>Sign in</U></A>
 
 </SPAN>

 </DIV>
 <DIV class="gbh" style="left: 0pt;"></DIV>
 <DIV class="gbh" style="right: 0pt;"></DIV>
 
 
 <DIV style="height: 1px"></DIV>
<!--[if IE 6]>
<div style="text-align:center;">
Support browsers that contribute to open source, try <a href="http://www.firefox.com">Firefox</a> or <a href="http://www.google.com/chrome">Google Chrome</a>.
</div>
<![endif]-->



 <TABLE style="padding:0px; margin: 20px 0px 0px 0px; width:100%" cellpadding="0" cellspacing="0">
 <TBODY><TR style="height: 58px;">
 
 <TD style="width: 55px; text-align:center;">
 <A href="http://code.google.com/p/googlemock/">
 
 
 
 <IMG src="./CheatSheet - googlemock - Google C++ Mocking Framework Cheat Sheet - Project Hosting on Google Code_files/logo" alt="Logo">
 
 
 </A>
 </TD>
 
 <TD style="padding-left: 0.5em">
 
 <DIV id="pname" style="margin: 0px 0px -3px 0px">
 <A href="http://code.google.com/p/googlemock/" style="text-decoration:none; color:#000">googlemock</A>
 
 </DIV>
 <DIV id="psum">
 <I><A id="project_summary_link" href="http://code.google.com/p/googlemock/" style="text-decoration:none; color:#000">Google C++ Mocking Framework</A></I>
 </DIV>
 
 </TD>
 <TD style="white-space:nowrap;text-align:right">
 <FORM action="http://code.google.com/hosting/search">
 <INPUT size="30" name="q" value="">
 <INPUT type="submit" name="projectsearch" value="Search projects">
 </FORM>
 </TD></TR>
 </TBODY></TABLE>


 
<TABLE id="mt" cellspacing="0" cellpadding="0" width="100%" border="0">
 <TBODY><TR>
 <TH onclick="if (!cancelBubble) _go(&#39;/p/googlemock/&#39;);">
 <DIV class="tab inactive">
 <DIV class="round4"></DIV>
 <DIV class="round2"></DIV>
 <DIV class="round1"></DIV>
 <DIV class="box-inner">
 <A onclick="cancelBubble=true;" href="http://code.google.com/p/googlemock/">Project&nbsp;Home</A>
 </DIV>
 </DIV>
 </TH><TD>&nbsp;&nbsp;</TD>
 
 
 
 
 <TH onclick="if (!cancelBubble) _go(&#39;/p/googlemock/downloads/list&#39;);">
 <DIV class="tab inactive">
 <DIV class="round4"></DIV>
 <DIV class="round2"></DIV>
 <DIV class="round1"></DIV>
 <DIV class="box-inner">
 <A onclick="cancelBubble=true;" href="http://code.google.com/p/googlemock/downloads/list">Downloads</A>
 </DIV>
 </DIV>
 </TH><TD>&nbsp;&nbsp;</TD>
 
 
 
 
 
 <TH onclick="if (!cancelBubble) _go(&#39;/p/googlemock/w/list&#39;);">
 <DIV class="tab active">
 <DIV class="round4"></DIV>
 <DIV class="round2"></DIV>
 <DIV class="round1"></DIV>
 <DIV class="box-inner">
 <A onclick="cancelBubble=true;" href="http://code.google.com/p/googlemock/w/list">Wiki</A>
 </DIV>
 </DIV>
 </TH><TD>&nbsp;&nbsp;</TD>
 
 
 
 
 
 <TH onclick="if (!cancelBubble) _go(&#39;/p/googlemock/issues/list&#39;);">
 <DIV class="tab inactive">
 <DIV class="round4"></DIV>
 <DIV class="round2"></DIV>
 <DIV class="round1"></DIV>
 <DIV class="box-inner">
 <A onclick="cancelBubble=true;" href="http://code.google.com/p/googlemock/issues/list">Issues</A>
 </DIV>
 </DIV>
 </TH><TD>&nbsp;&nbsp;</TD>
 
 
 
 
 
 <TH onclick="if (!cancelBubble) _go(&#39;/p/googlemock/source/checkout&#39;);">
 <DIV class="tab inactive">
 <DIV class="round4"></DIV>
 <DIV class="round2"></DIV>
 <DIV class="round1"></DIV>
 <DIV class="box-inner">
 <A onclick="cancelBubble=true;" href="http://code.google.com/p/googlemock/source/checkout">Source</A>
 </DIV>
 </DIV>
 </TH><TD>&nbsp;&nbsp;</TD>
 
 
 <TD width="100%">&nbsp;</TD>
 </TR>
</TBODY></TABLE>
<TABLE cellspacing="0" cellpadding="0" width="100%" align="center" border="0" class="st">
 <TBODY><TR>
 
 
 
 <TD>
 <DIV class="issueDetail">
<DIV class="isf">
 
 <SPAN class="inIssueList"> 
 <SPAN>Search</SPAN>
 <FORM action="http://code.google.com/p/googlemock/w/list" method="GET" style="display:inline">
 <SELECT id="can" name="can" style="font-size:92%">
 <OPTION disabled="disabled">Search within:</OPTION>
 
 <OPTION value="1">&nbsp;All wiki pages</OPTION>
 <OPTION value="3">&nbsp;Featured pages</OPTION>
 <OPTION value="2" selected="selected">&nbsp;Current pages</OPTION>
 
 
 <OPTION value="4">&nbsp;Deprecated pages</OPTION>
 
 </SELECT>
 <SPAN>for</SPAN>
 <SPAN id="qq"><INPUT type="text" size="38" id="q" name="q" value="" style="font-size:92%"></SPAN>
 
 
 <INPUT type="submit" value="Search" style="font-size:92%">
 </FORM>
 </SPAN>

 
 
 
 
 
 
 

</DIV>
</DIV>

 </TD>
 
 
 
 
 
 
 <TD height="4" align="right" valign="top" class="bevel-right">
 <DIV class="round4"></DIV>
 <DIV class="round2"></DIV>
 <DIV class="round1"></DIV>
 </TD>
 </TR>
</TBODY></TABLE>
<SCRIPT type="text/javascript">
 var cancelBubble = false;
 function _go(url) { document.location = url; }
</SCRIPT>


<DIV id="maincol">

 
<!-- IE -->







 <STYLE type="text/css">
 .artifactcomment {
 margin: .5em 0 0 0;
 padding: .3em 0 .3em .3em;
 border-top: 3px solid #c3d9ff;
 }
 #commentlist {
 border-bottom: 3px solid #c3d9ff;
 }
 #commentform { padding-top: 1em; }
 .delcom { background: #e8e8e8 }
 .commentcontent { margin: 1em 0;}
 </STYLE>


 <DIV id="wikicontent">
 <TABLE width="100%" border="0" cellspacing="0" cellpadding="0">
 <TBODY><TR>
 
 <TD class="vt" id="wikimaincol" width="100%">
 
 <DIV style="float:right; width:18em" id="wikimeta">
 <DIV class="pmeta_bubble_bg">
 <DIV class="round4"></DIV>
 <DIV class="round2"></DIV>
 <DIV class="round1"></DIV>
 <DIV class="box-inner">
 <TABLE style="padding: 5px">
 <TBODY><TR><TD colspan="2" style="padding-bottom:5px">Updated <SPAN title="Thu Apr 22 16:33:07 2010">Apr 22, 2010</SPAN>
 
 by <A style="white-space: nowrap" href="http://code.google.com/u/@WBhXQFBWDhlDVgF4/">w...@google.com</A>
 </TD></TR>
 
 <TR><TH class="vt">Labels:</TH>
 <TD>
 
 <A href="http://code.google.com/p/googlemock/w/list?q=label:Featured" title="Listed on project home page">Featured</A>
 
 </TD>
 </TR>
 
 
 
 </TBODY></TABLE>
 </DIV>
 <DIV class="round1"></DIV>
 <DIV class="round2"></DIV>
 <DIV class="round4"></DIV>
 </DIV>
 </DIV>
 
 <DIV id="wikiheader" style="margin-bottom:1em">
 
 <SPAN style="font-size:120%;font-weight:bold">CheatSheet</SPAN>
 &nbsp;
 
 
 <DIV style="font-style:italic; margin-top: 3px">Google C++ Mocking Framework Cheat Sheet</DIV>
 
 </DIV>
 <P></P><UL><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Defining_a_Mock_Class">Defining a Mock Class</A></LI><UL><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Mocking_a_Normal_Class">Mocking a Normal Class</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Mocking_a_Class_Template">Mocking a Class Template</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Specifying_Calling_Conventions_for_Mock_Functions">Specifying Calling Conventions for Mock Functions</A></LI></UL><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Using_Mocks_in_Tests">Using Mocks in Tests</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Setting_Default_Actions">Setting Default Actions</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Setting_Expectations">Setting Expectations</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Matchers">Matchers</A></LI><UL><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Wildcard">Wildcard</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Generic_Comparison">Generic Comparison</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Floating-Point_Matchers">Floating-Point Matchers</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#String_Matchers">String Matchers</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Container_Matchers">Container Matchers</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Member_Matchers">Member Matchers</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Matching_the_Result_of_a_Function_or_Functor">Matching the Result of a Function or Functor</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Pointer_Matchers">Pointer Matchers</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Multiargument_Matchers">Multiargument Matchers</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Composite_Matchers">Composite Matchers</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Adapters_for_Matchers">Adapters for Matchers</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Matchers_as_Predicates">Matchers as Predicates</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Defining_Matchers">Defining Matchers</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Matchers_as_Test_Assertions">Matchers as Test Assertions</A></LI></UL><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Actions">Actions</A></LI><UL><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Returning_a_Value">Returning a Value</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Side_Effects">Side Effects</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Using_a_Function_or_a_Functor_as_an_Action">Using a Function or a Functor as an Action</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Default_Action">Default Action</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Composite_Actions">Composite Actions</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Defining_Actions">Defining Actions</A></LI></UL><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Cardinalities">Cardinalities</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Expectation_Order">Expectation Order</A></LI><UL><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#The_After_Clause">The After Clause</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Sequences">Sequences</A></LI></UL><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Verifying_and_Resetting_a_Mock">Verifying and Resetting a Mock</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Mock_Classes">Mock Classes</A></LI><LI><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Flags">Flags</A></LI></UL> <P></P><H1><A name="Defining_a_Mock_Class">Defining a Mock Class</A></H1><A name="Defining_a_Mock_Class"></A><H2><A name="Mocking_a_Normal_Class">Mocking a Normal Class</A></H2><A name="Mocking_a_Normal_Class"><P>Given </P><PRE class="prettyprint"><SPAN class="kwd">class</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Foo</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">{</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="pun">...</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="kwd">virtual</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">~</SPAN><SPAN class="typ">Foo</SPAN><SPAN class="pun">();</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="kwd">virtual</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">int</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">GetSize</SPAN><SPAN class="pun">()</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">const</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">=</SPAN><SPAN class="pln"> </SPAN><SPAN class="lit">0</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="kwd">virtual</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">string</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Describe</SPAN><SPAN class="pun">(</SPAN><SPAN class="kwd">const</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">char</SPAN><SPAN class="pun">*</SPAN><SPAN class="pln"> name</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">=</SPAN><SPAN class="pln"> </SPAN><SPAN class="lit">0</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="kwd">virtual</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">string</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Describe</SPAN><SPAN class="pun">(</SPAN><SPAN class="kwd">int</SPAN><SPAN class="pln"> type</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">=</SPAN><SPAN class="pln"> </SPAN><SPAN class="lit">0</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="kwd">virtual</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">bool</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Process</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">Bar</SPAN><SPAN class="pln"> elem</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">int</SPAN><SPAN class="pln"> count</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">=</SPAN><SPAN class="pln"> </SPAN><SPAN class="lit">0</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="pun">};</SPAN></PRE><P>(note that <TT>~Foo()</TT> <STRONG>must</STRONG> be virtual) we can define its mock as </P><PRE class="prettyprint"><SPAN class="com">#include</SPAN><SPAN class="pln"> </SPAN><SPAN class="str">&lt;gmock/gmock.h&gt;</SPAN><SPAN class="pln"><BR><BR></SPAN><SPAN class="kwd">class</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">MockFoo</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">:</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">public</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Foo</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">{</SPAN><SPAN class="pln"><BR>&nbsp; MOCK_CONST_METHOD0</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">GetSize</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">int</SPAN><SPAN class="pun">());</SPAN><SPAN class="pln"><BR>&nbsp; MOCK_METHOD1</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">Describe</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">string</SPAN><SPAN class="pun">(</SPAN><SPAN class="kwd">const</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">char</SPAN><SPAN class="pun">*</SPAN><SPAN class="pln"> name</SPAN><SPAN class="pun">));</SPAN><SPAN class="pln"><BR>&nbsp; MOCK_METHOD1</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">Describe</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">string</SPAN><SPAN class="pun">(</SPAN><SPAN class="kwd">int</SPAN><SPAN class="pln"> type</SPAN><SPAN class="pun">));</SPAN><SPAN class="pln"><BR>&nbsp; MOCK_METHOD2</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">Process</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">bool</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">Bar</SPAN><SPAN class="pln"> elem</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">int</SPAN><SPAN class="pln"> count</SPAN><SPAN class="pun">));</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="pun">};</SPAN></PRE><P>To create a "nice" mock object which ignores all uninteresting calls, or a "strict" mock object, which treats them as failures: </P><PRE class="prettyprint"><SPAN class="typ">NiceMock</SPAN><SPAN class="pun">&lt;</SPAN><SPAN class="typ">MockFoo</SPAN><SPAN class="pun">&gt;</SPAN><SPAN class="pln"> nice_foo</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"> &nbsp; &nbsp; </SPAN><SPAN class="com">// The type is a subclass of MockFoo.</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="typ">StrictMock</SPAN><SPAN class="pun">&lt;</SPAN><SPAN class="typ">MockFoo</SPAN><SPAN class="pun">&gt;</SPAN><SPAN class="pln"> strict_foo</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"> </SPAN><SPAN class="com">// The type is a subclass of MockFoo.</SPAN></PRE></A><H2><A name="Mocking_a_Class_Template">Mocking a Class Template</A></H2><A name="Mocking_a_Class_Template"><P>To mock </P><PRE class="prettyprint"><SPAN class="kwd">template</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">&lt;</SPAN><SPAN class="kwd">typename</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Elem</SPAN><SPAN class="pun">&gt;</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="kwd">class</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">StackInterface</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">{</SPAN><SPAN class="pln"><BR>&nbsp;</SPAN><SPAN class="kwd">public</SPAN><SPAN class="pun">:</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="pun">...</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="kwd">virtual</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">~</SPAN><SPAN class="typ">StackInterface</SPAN><SPAN class="pun">();</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="kwd">virtual</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">int</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">GetSize</SPAN><SPAN class="pun">()</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">const</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">=</SPAN><SPAN class="pln"> </SPAN><SPAN class="lit">0</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="kwd">virtual</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">void</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Push</SPAN><SPAN class="pun">(</SPAN><SPAN class="kwd">const</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Elem</SPAN><SPAN class="pun">&amp;</SPAN><SPAN class="pln"> x</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">=</SPAN><SPAN class="pln"> </SPAN><SPAN class="lit">0</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="pun">};</SPAN></PRE><P>(note that <TT>~StackInterface()</TT> <STRONG>must</STRONG> be virtual) just append <TT>_T</TT> to the <TT>MOCK_*</TT> macros: </P><PRE class="prettyprint"><SPAN class="kwd">template</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">&lt;</SPAN><SPAN class="kwd">typename</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Elem</SPAN><SPAN class="pun">&gt;</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="kwd">class</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">MockStack</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">:</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">public</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">StackInterface</SPAN><SPAN class="pun">&lt;</SPAN><SPAN class="typ">Elem</SPAN><SPAN class="pun">&gt;</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">{</SPAN><SPAN class="pln"><BR>&nbsp;</SPAN><SPAN class="kwd">public</SPAN><SPAN class="pun">:</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="pun">...</SPAN><SPAN class="pln"><BR>&nbsp; MOCK_CONST_METHOD0_T</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">GetSize</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">int</SPAN><SPAN class="pun">());</SPAN><SPAN class="pln"><BR>&nbsp; MOCK_METHOD1_T</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">Push</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">void</SPAN><SPAN class="pun">(</SPAN><SPAN class="kwd">const</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Elem</SPAN><SPAN class="pun">&amp;</SPAN><SPAN class="pln"> x</SPAN><SPAN class="pun">));</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="pun">};</SPAN></PRE></A><H2><A name="Specifying_Calling_Conventions_for_Mock_Functions">Specifying Calling Conventions for Mock Functions</A></H2><A name="Specifying_Calling_Conventions_for_Mock_Functions"><P>If your mock function doesn't use the default calling convention, you can specify it by appending <TT>_WITH_CALLTYPE</TT> to any of the macros described in the previous two sections and supplying the calling convention as the first argument to the macro. For example, </P><PRE class="prettyprint"><SPAN class="pln">&nbsp; MOCK_METHOD_1_WITH_CALLTYPE</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">STDMETHODCALLTYPE</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Foo</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">bool</SPAN><SPAN class="pun">(</SPAN><SPAN class="kwd">int</SPAN><SPAN class="pln"> n</SPAN><SPAN class="pun">));</SPAN><SPAN class="pln"><BR>&nbsp; MOCK_CONST_METHOD2_WITH_CALLTYPE</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">STDMETHODCALLTYPE</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Bar</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">int</SPAN><SPAN class="pun">(</SPAN><SPAN class="kwd">double</SPAN><SPAN class="pln"> x</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">double</SPAN><SPAN class="pln"> y</SPAN><SPAN class="pun">));</SPAN></PRE><P>where <TT>STDMETHODCALLTYPE</TT> is defined by <TT>&lt;objbase.h&gt;</TT> on Windows. </P></A><H1><A name="Using_Mocks_in_Tests">Using Mocks in Tests</A></H1><A name="Using_Mocks_in_Tests"><P>The typical flow is: </P></A><OL><A name="Using_Mocks_in_Tests"><LI>Import the Google Mock names you need to use. All Google Mock names are in the <TT>testing</TT> namespace unless they are macros or otherwise noted. </LI><LI>Create the mock objects. </LI><LI>Optionally, set the default actions of the mock objects. </LI><LI>Set your expectations on the mock objects (How will they be called? What wil they do?). </LI></A><LI><A name="Using_Mocks_in_Tests">Exercise code that uses the mock objects; if necessary, check the result using </A><A href="http://code.google.com/p/googletest/" rel="nofollow">Google Test</A> assertions. </LI><LI>When a mock objects is destructed, Google Mock automatically verifies that all expectations on it have been satisfied. </LI></OL><P></P><P>Here is an example: </P><PRE class="prettyprint"><SPAN class="kwd">using</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">::</SPAN><SPAN class="pln">testing</SPAN><SPAN class="pun">::</SPAN><SPAN class="typ">Return</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</SPAN><SPAN class="com">// #1</SPAN><SPAN class="pln"><BR><BR>TEST</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">BarTest</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">DoesThis</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">{</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="typ">MockFoo</SPAN><SPAN class="pln"> foo</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</SPAN><SPAN class="com">// #2</SPAN><SPAN class="pln"><BR><BR>&nbsp; ON_CALL</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">foo</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">GetSize</SPAN><SPAN class="pun">())</SPAN><SPAN class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </SPAN><SPAN class="com">// #3</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">WillByDefault</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">Return</SPAN><SPAN class="pun">(</SPAN><SPAN class="lit">1</SPAN><SPAN class="pun">));</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="com">// ... other default actions ...</SPAN><SPAN class="pln"><BR><BR>&nbsp; EXPECT_CALL</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">foo</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Describe</SPAN><SPAN class="pun">(</SPAN><SPAN class="lit">5</SPAN><SPAN class="pun">))</SPAN><SPAN class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </SPAN><SPAN class="com">// #4</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">Times</SPAN><SPAN class="pun">(</SPAN><SPAN class="lit">3</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">WillRepeatedly</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">Return</SPAN><SPAN class="pun">(</SPAN><SPAN class="str">"Category 5"</SPAN><SPAN class="pun">));</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="com">// ... other expectations ...</SPAN><SPAN class="pln"><BR><BR>&nbsp; EXPECT_EQ</SPAN><SPAN class="pun">(</SPAN><SPAN class="str">"good"</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">MyProductionFunction</SPAN><SPAN class="pun">(&amp;</SPAN><SPAN class="pln">foo</SPAN><SPAN class="pun">));</SPAN><SPAN class="pln"> &nbsp;</SPAN><SPAN class="com">// #5</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="pun">}</SPAN><SPAN class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </SPAN><SPAN class="com">// #6</SPAN></PRE><H1><A name="Setting_Default_Actions">Setting Default Actions</A></H1><A name="Setting_Default_Actions"><P>Google Mock has a <STRONG>built-in default action</STRONG> for any function that returns <TT>void</TT>, <TT>bool</TT>, a numeric value, or a pointer. </P><P>To customize the default action for functions with return type <TT>T</TT> globally: </P><PRE class="prettyprint"><SPAN class="kwd">using</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">::</SPAN><SPAN class="pln">testing</SPAN><SPAN class="pun">::</SPAN><SPAN class="typ">DefaultValue</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"><BR><BR></SPAN><SPAN class="typ">DefaultValue</SPAN><SPAN class="pun">&lt;</SPAN><SPAN class="pln">T</SPAN><SPAN class="pun">&gt;::</SPAN><SPAN class="typ">Set</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">value</SPAN><SPAN class="pun">);</SPAN><SPAN class="pln"> &nbsp;</SPAN><SPAN class="com">// Sets the default value to be returned.</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="com">// ... use the mocks ...</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="typ">DefaultValue</SPAN><SPAN class="pun">&lt;</SPAN><SPAN class="pln">T</SPAN><SPAN class="pun">&gt;::</SPAN><SPAN class="typ">Clear</SPAN><SPAN class="pun">();</SPAN><SPAN class="pln"> &nbsp; &nbsp; </SPAN><SPAN class="com">// Resets the default value.</SPAN></PRE><P>To customize the default action for a particular method, use <TT>ON_CALL()</TT>: </P><PRE class="prettyprint"><SPAN class="pln">ON_CALL</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">mock_object</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> method</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">matchers</SPAN><SPAN class="pun">))</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">With</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">multi_argument_matcher</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"> &nbsp;</SPAN><SPAN class="pun">?</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">WillByDefault</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">action</SPAN><SPAN class="pun">);</SPAN></PRE></A><H1><A name="Setting_Expectations">Setting Expectations</A></H1><A name="Setting_Expectations"><P><TT>EXPECT_CALL()</TT> sets <STRONG>expectations</STRONG> on a mock method (How will it be called? What will it do?): </P><PRE class="prettyprint"><SPAN class="pln">EXPECT_CALL</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">mock_object</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> method</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">matchers</SPAN><SPAN class="pun">))</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">With</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">multi_argument_matcher</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"> &nbsp;</SPAN><SPAN class="pun">?</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">Times</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">cardinality</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</SPAN><SPAN class="pun">?</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">InSequence</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">sequences</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; </SPAN><SPAN class="pun">*</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">After</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">expectations</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </SPAN><SPAN class="pun">*</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">WillOnce</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">action</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</SPAN><SPAN class="pun">*</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">WillRepeatedly</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">action</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</SPAN><SPAN class="pun">?</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">RetiresOnSaturation</SPAN><SPAN class="pun">();</SPAN><SPAN class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</SPAN><SPAN class="pun">?</SPAN></PRE><P>If <TT>Times()</TT> is omitted, the cardinality is assumed to be: </P><UL><LI><TT>Times(1)</TT> when there is neither <TT>WillOnce()</TT> nor <TT>WillRepeatedly()</TT>; </LI><LI><TT>Times(n)</TT> when there are <TT>n WillOnce()</TT>s but no <TT>WillRepeatedly()</TT>, where <TT>n</TT> &gt;= 1; or </LI><LI><TT>Times(AtLeast(n))</TT> when there are <TT>n WillOnce()</TT>s and a <TT>WillRepeatedly()</TT>, where <TT>n</TT> &gt;= 0. </LI></UL><P>A method with no <TT>EXPECT_CALL()</TT> is free to be invoked <I>any number of times</I>, and the default action will be taken each time. </P></A><H1><A name="Matchers">Matchers</A></H1><A name="Matchers"><P>A <STRONG>matcher</STRONG> matches a <I>single</I> argument.  You can use it inside <TT>ON_CALL()</TT> or <TT>EXPECT_CALL()</TT>, or use it to validate a value directly: </P><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>EXPECT_THAT(value, matcher)</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;"> Asserts that <TT>value</TT> matches <TT>matcher</TT>. </TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>ASSERT_THAT(value, matcher)</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;"> The same as <TT>EXPECT_THAT(value, matcher)</TT>, except that it generates a <STRONG>fatal</STRONG> failure. </TD></TR> </TBODY></TABLE><P></P><P>Built-in matchers (where <TT>argument</TT> is the function argument) are divided into several categories: </P></A><H2><A name="Wildcard">Wildcard</A></H2><A name="Wildcard"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>_</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> can be any value of the correct type.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>A&lt;type&gt;()</TT> or <TT>An&lt;type&gt;()</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> can be any value of type <TT>type</TT>. </TD></TR> </TBODY></TABLE><P></P></A><H2><A name="Generic_Comparison">Generic Comparison</A></H2><A name="Generic_Comparison"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Eq(value)</TT> or <TT>value</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument == value</TT></TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Ge(value)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument &gt;= value</TT></TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Gt(value)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument &gt; value</TT></TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Le(value)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument &lt;= value</TT></TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Lt(value)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument &lt; value</TT></TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Ne(value)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument != value</TT></TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>IsNull()</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> is a <TT>NULL</TT> pointer (raw or smart).</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>NotNull()</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> is a non-null pointer (raw or smart).</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Ref(variable)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> is a reference to <TT>variable</TT>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>TypedEq&lt;type&gt;(value)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> has type <TT>type</TT> and is equal to <TT>value</TT>. You may need to use this instead of <TT>Eq(value)</TT> when the mock function is overloaded.</TD></TR> </TBODY></TABLE><P></P><P>Except <TT>Ref()</TT>, these matchers make a <I>copy</I> of <TT>value</TT> in case it's modified or destructed later. If the compiler complains that <TT>value</TT> doesn't have a public copy constructor, try wrap it in <TT>ByRef()</TT>, e.g. <TT>Eq(ByRef(non_copyable_value))</TT>. If you do that, make sure <TT>non_copyable_value</TT> is not changed afterwards, or the meaning of your matcher will be changed. </P></A><H2><A name="Floating-Point_Matchers">Floating-Point Matchers</A></H2><A name="Floating-Point_Matchers"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>DoubleEq(a_double)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> is a <TT>double</TT> value approximately equal to <TT>a_double</TT>, treating two NaNs as unequal.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>FloatEq(a_float)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> is a <TT>float</TT> value approximately equal to <TT>a_float</TT>, treating two NaNs as unequal.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>NanSensitiveDoubleEq(a_double)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> is a <TT>double</TT> value approximately equal to <TT>a_double</TT>, treating two NaNs as equal.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>NanSensitiveFloatEq(a_float)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> is a <TT>float</TT> value approximately equal to <TT>a_float</TT>, treating two NaNs as equal.</TD></TR> </TBODY></TABLE><P></P></A><P><A name="Floating-Point_Matchers">These matchers use ULP-based comparison (the same as used in </A><A href="http://code.google.com/p/googletest/" rel="nofollow">Google Test</A>). They automatically pick a reasonable error bound based on the absolute value of the expected value.  <TT>DoubleEq()</TT> and <TT>FloatEq()</TT> conform to the IEEE standard, which requires comparing two NaNs for equality to return false. The <TT>NanSensitive*</TT> version instead treats two NaNs as equal, which is often what a user wants. </P><H2><A name="String_Matchers">String Matchers</A></H2><A name="String_Matchers"><P>The <TT>argument</TT> can be either a C string or a C++ string object: </P><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>ContainsRegex(string)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> matches the given regular expression.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>EndsWith(suffix)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> ends with string <TT>suffix</TT>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>HasSubstr(string)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> contains <TT>string</TT> as a sub-string.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>MatchesRegex(string)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> matches the given regular expression with the match starting at the first character and ending at the last character.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>StartsWith(prefix)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> starts with string <TT>prefix</TT>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>StrCaseEq(string)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> is equal to <TT>string</TT>, ignoring case.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>StrCaseNe(string)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> is not equal to <TT>string</TT>, ignoring case.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>StrEq(string)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> is equal to <TT>string</TT>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>StrNe(string)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> is not equal to <TT>string</TT>.</TD></TR> </TBODY></TABLE><P></P><P><TT>StrCaseEq()</TT>, <TT>StrCaseNe()</TT>, <TT>StrEq()</TT>, and <TT>StrNe()</TT> work for wide strings as well. </P></A><H2><A name="Container_Matchers">Container Matchers</A></H2><A name="Container_Matchers"><P>Most STL-style containers support <TT>==</TT>, so you can use <TT>Eq(expected_container)</TT> or simply <TT>expected_container</TT> to match a container exactly.   If you want to write the elements in-line, match them more flexibly, or get more informative messages, you can use: </P><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>Contains(e)</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>argument</TT> contains an element that matches <TT>e</TT>, which can be either a value or a matcher. </TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>Each(e)</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>argument</TT> is a container where <I>every</I> element matches <TT>e</TT>, which can be either a value or a matcher. </TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>ElementsAre(e0, e1, ..., en)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> has <TT>n + 1</TT> elements, where the i-th element matches <TT>ei</TT>, which can be a value or a matcher. 0 to 10 arguments are allowed.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>ElementsAreArray(array)</TT> or <TT>ElementsAreArray(array, count)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">The same as <TT>ElementsAre()</TT> except that the expected element values/matchers come from a C-style array.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>ContainerEq(container)</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;"> The same as <TT>Eq(container)</TT> except that the failure message also includes which elements are in one container but not the other. </TD></TR> </TBODY></TABLE><P></P><P>These matchers can also match: </P></A><OL><A name="Container_Matchers"><LI>a native array passed by reference (e.g. in <TT>Foo(const int (&amp;a)[5])</TT>), and </LI></A><LI><A name="Container_Matchers">an array passed as a pointer and a count (e.g. in <TT>Bar(const T* buffer, int len)</TT> -- see </A><A href="http://code.google.com/p/googlemock/wiki/CheatSheet#Multiargument_Matchers">Multi-argument Matchers</A>). </LI></OL><P>where the array may be multi-dimensional (i.e. its elements can be arrays).  </P><H2><A name="Member_Matchers">Member Matchers</A></H2><A name="Member_Matchers"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Field(&amp;class::field, m)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument.field</TT> (or <TT>argument-&gt;field</TT> when <TT>argument</TT> is a plain pointer) matches matcher <TT>m</TT>, where <TT>argument</TT> is an object of type <I>class</I>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Key(e)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument.first</TT> matches <TT>e</TT>, which can be either a value or a matcher. E.g. <TT>Contains(Key(Le(5)))</TT> can verify that a <TT>map</TT> contains a key <TT>&lt;= 5</TT>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Pair(m1, m2)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> is an <TT>std::pair</TT> whose <TT>first</TT> field matches <TT>m1</TT> and <TT>second</TT> field matches <TT>m2</TT>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Property(&amp;class::property, m)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument.property()</TT> (or <TT>argument-&gt;property()</TT> when <TT>argument</TT> is a plain pointer) matches matcher <TT>m</TT>, where <TT>argument</TT> is an object of type <I>class</I>.</TD></TR> </TBODY></TABLE><P></P></A><H2><A name="Matching_the_Result_of_a_Function_or_Functor">Matching the Result of a Function or Functor</A></H2><A name="Matching_the_Result_of_a_Function_or_Functor"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>ResultOf(f, m)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>f(argument)</TT> matches matcher <TT>m</TT>, where <TT>f</TT> is a function or functor.</TD></TR> </TBODY></TABLE><P></P></A><H2><A name="Pointer_Matchers">Pointer Matchers</A></H2><A name="Pointer_Matchers"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Pointee(m)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> (either a smart pointer or a raw pointer) points to a value that matches matcher <TT>m</TT>.</TD></TR> </TBODY></TABLE><P></P></A><H2><A name="Multiargument_Matchers">Multiargument Matchers</A></H2><A name="Multiargument_Matchers"><P>These are matchers on tuple types. They can be used in <TT>.With()</TT>. The following can be used on functions with <I>two arguments</I> <TT>x</TT> and <TT>y</TT>: </P><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Eq()</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>x == y</TT></TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Ge()</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>x &gt;= y</TT></TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Gt()</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>x &gt; y</TT></TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Le()</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>x &lt;= y</TT></TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Lt()</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>x &lt; y</TT></TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Ne()</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>x != y</TT></TD></TR> </TBODY></TABLE><P></P><P>You can use the following selectors to pick a subset of the arguments (or reorder them) to participate in the matching: </P><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>AllArgs(m)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Equivalent to <TT>m</TT>. Useful as syntactic sugar in <TT>.With(AllArgs(m))</TT>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Args&lt;N1, N2, ..., Nk&gt;(m)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">The <TT>k</TT> selected (using 0-based indices) arguments match <TT>m</TT>, e.g. <TT>Args&lt;1, 2&gt;(Contains(5))</TT>.</TD></TR> </TBODY></TABLE><P></P></A><H2><A name="Composite_Matchers">Composite Matchers</A></H2><A name="Composite_Matchers"><P>You can make a matcher from one or more other matchers: </P><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>AllOf(m1, m2, ..., mn)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> matches all of the matchers <TT>m1</TT> to <TT>mn</TT>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>AnyOf(m1, m2, ..., mn)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> matches at least one of the matchers <TT>m1</TT> to <TT>mn</TT>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Not(m)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>argument</TT> doesn't match matcher <TT>m</TT>.</TD></TR> </TBODY></TABLE><P></P></A><H2><A name="Adapters_for_Matchers">Adapters for Matchers</A></H2><A name="Adapters_for_Matchers"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>MatcherCast&lt;T&gt;(m)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">casts matcher <TT>m</TT> to type <TT>Matcher&lt;T&gt;</TT>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>SafeMatcherCast&lt;T&gt;(m)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"> <A href="http://code.google.com/p/googlemock/wiki/CookBook#Casting_Matchers">safely casts</A> matcher <TT>m</TT> to type <TT>Matcher&lt;T&gt;</TT>. </TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Truly(predicate)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;"><TT>predicate(argument)</TT> returns something considered by C++ to be true, where <TT>predicate</TT> is a function or functor.</TD></TR> </TBODY></TABLE><P></P></A><H2><A name="Matchers_as_Predicates">Matchers as Predicates</A></H2><A name="Matchers_as_Predicates"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Matches(m)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">a unary functor that returns <TT>true</TT> if the argument matches <TT>m</TT>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>ExplainMatchResult(m, value, result_listener)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">returns <TT>true</TT> if <TT>value</TT> matches <TT>m</TT>, explaining the result to <TT>result_listener</TT>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Value(x, m)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">returns <TT>true</TT> if the value of <TT>x</TT> matches <TT>m</TT>.</TD></TR> </TBODY></TABLE><P></P></A><H2><A name="Defining_Matchers">Defining Matchers</A></H2><A name="Defining_Matchers"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>MATCHER(IsEven, "") { return (arg % 2) == 0; }</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;"> Defines a matcher <TT>IsEven()</TT> to match an even number. </TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>MATCHER_P(IsDivisibleBy, n, "") { *result_listener &lt;&lt; "where the remainder is " &lt;&lt; (arg % n); return (arg % n) == 0; }</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;"> Defines a macher <TT>IsDivisibleBy(n)</TT> to match a number divisible by <TT>n</TT>. </TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>MATCHER_P2(IsBetween, a, b, "is between %(a)s and %(b)s") { return a &lt;= arg &amp;&amp; arg &lt;= b; }</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;"> Defines a matcher <TT>IsBetween(a, b)</TT> to match a value in the range [<TT>a</TT>, <TT>b</TT>]. </TD></TR> </TBODY></TABLE><P></P><P><STRONG>Notes:</STRONG> </P><OL><LI>The <TT>MATCHER*</TT> macros cannot be used inside a function or class. </LI><LI>The matcher body must be <I>purely functional</I> (i.e. it cannot have any side effect, and the result must not depend on anything other than the value being matched and the matcher parameters). </LI><LI>You can use <TT>PrintToString(x)</TT> to convert a value <TT>x</TT> of any type to a string. </LI></OL></A><H2><A name="Matchers_as_Test_Assertions">Matchers as Test Assertions</A></H2><A name="Matchers_as_Test_Assertions"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>ASSERT_THAT(expression, m)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Generates a <A href="http://code.google.com/p/googletest/wiki/GoogleTestPrimer#Assertions" rel="nofollow">fatal failure</A> if the value of <TT>expression</TT> doesn't match matcher <TT>m</TT>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>EXPECT_THAT(expression, m)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Generates a non-fatal failure if the value of <TT>expression</TT> doesn't match matcher <TT>m</TT>.</TD></TR> </TBODY></TABLE><P></P></A><H1><A name="Actions">Actions</A></H1><A name="Actions"><P><STRONG>Actions</STRONG> specify what a mock function should do when invoked. </P></A><H2><A name="Returning_a_Value">Returning a Value</A></H2><A name="Returning_a_Value"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Return()</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Return from a <TT>void</TT> mock function.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Return(value)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Return <TT>value</TT>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>ReturnArg&lt;N&gt;()</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Return the <TT>N</TT>-th (0-based) argument.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>ReturnNew&lt;T&gt;(a1, ..., ak)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Return <TT>new T(a1, ..., ak)</TT>; a different object is created each time.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>ReturnNull()</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Return a null pointer.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>ReturnRef(variable)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Return a reference to <TT>variable</TT>.</TD></TR> </TBODY></TABLE><P></P></A><H2><A name="Side_Effects">Side Effects</A></H2><A name="Side_Effects"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Assign(&amp;variable, value)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Assign <TT>value</TT> to variable.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>DeleteArg&lt;N&gt;()</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;"> Delete the <TT>N</TT>-th (0-based) argument, which must be a pointer. </TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>SaveArg&lt;N&gt;(pointer)</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;"> Save the <TT>N</TT>-th (0-based) argument to <TT>*pointer</TT>. </TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>SetArgReferee&lt;N&gt;(value)</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;">	Assign value to the variable referenced by the <TT>N</TT>-th (0-based) argument. </TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>SetArgumentPointee&lt;N&gt;(value)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Assign <TT>value</TT> to the variable pointed by the <TT>N</TT>-th (0-based) argument.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>SetArrayArgument&lt;N&gt;(first, last)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Copies the elements in source range [<TT>first</TT>, <TT>last</TT>) to the array pointed to by the <TT>N</TT>-th (0-based) argument, which can be either a pointer or an iterator. The action does not take ownership of the elements in the source range.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>SetErrnoAndReturn(error, value)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Set <TT>errno</TT> to <TT>error</TT> and return <TT>value</TT>.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Throw(exception)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Throws the given exception, which can be any copyable value. Available since v1.1.0.</TD></TR> </TBODY></TABLE><P></P></A><H2><A name="Using_a_Function_or_a_Functor_as_an_Action">Using a Function or a Functor as an Action</A></H2><A name="Using_a_Function_or_a_Functor_as_an_Action"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Invoke(f)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Invoke <TT>f</TT> with the arguments passed to the mock function, where <TT>f</TT> can be a global/static function or a functor.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Invoke(object_pointer, &amp;class::method)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Invoke the {method on the object with the arguments passed to the mock function.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>InvokeWithoutArgs(f)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Invoke <TT>f</TT>, which can be a global/static function or a functor. <TT>f</TT> must take no arguments.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>InvokeWithoutArgs(object_pointer, &amp;class::method)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Invoke the method on the object, which takes no arguments.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>InvokeArgument&lt;N&gt;(arg1, arg2, ..., argk)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Invoke the mock function's <TT>N</TT>-th (0-based) argument, which must be a function or a functor, with the <TT>k</TT> arguments.</TD></TR> </TBODY></TABLE><P></P><P>The return value of the invoked function is used as the return value of the action. </P><P>When defining a function or functor to be used with <TT>Invoke*()</TT>, you can declare any unused parameters as <TT>Unused</TT>: </P><PRE class="prettyprint"><SPAN class="pln">&nbsp; </SPAN><SPAN class="kwd">double</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Distance</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">Unused</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">double</SPAN><SPAN class="pln"> x</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">double</SPAN><SPAN class="pln"> y</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">{</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">return</SPAN><SPAN class="pln"> sqrt</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">x</SPAN><SPAN class="pun">*</SPAN><SPAN class="pln">x </SPAN><SPAN class="pun">+</SPAN><SPAN class="pln"> y</SPAN><SPAN class="pun">*</SPAN><SPAN class="pln">y</SPAN><SPAN class="pun">);</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">}</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="pun">...</SPAN><SPAN class="pln"><BR>&nbsp; EXPECT_CALL</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">mock</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Foo</SPAN><SPAN class="pun">(</SPAN><SPAN class="str">"Hi"</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> _</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> _</SPAN><SPAN class="pun">)).</SPAN><SPAN class="typ">WillOnce</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">Invoke</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">Distance</SPAN><SPAN class="pun">));</SPAN></PRE><P>In <TT>InvokeArgument&lt;N&gt;(...)</TT>, if an argument needs to be passed by reference, wrap it inside <TT>ByRef()</TT>. For example, </P><PRE class="prettyprint"><SPAN class="pln">&nbsp; </SPAN><SPAN class="typ">InvokeArgument</SPAN><SPAN class="pun">&lt;</SPAN><SPAN class="lit">2</SPAN><SPAN class="pun">&gt;(</SPAN><SPAN class="lit">5</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">string</SPAN><SPAN class="pun">(</SPAN><SPAN class="str">"Hi"</SPAN><SPAN class="pun">),</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">ByRef</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">foo</SPAN><SPAN class="pun">))</SPAN></PRE><P>calls the mock function's #2 argument, passing to it <TT>5</TT> and <TT>string("Hi")</TT> by value, and <TT>foo</TT> by reference. </P></A><H2><A name="Default_Action">Default Action</A></H2><A name="Default_Action"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>DoDefault()</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Do the default action (specified by <TT>ON_CALL()</TT> or the built-in one).</TD></TR> </TBODY></TABLE><P></P><P><STRONG>Note:</STRONG> due to technical reasons, <TT>DoDefault()</TT> cannot be used inside  a composite action - trying to do so will result in a run-time error. </P></A><H2><A name="Composite_Actions">Composite Actions</A></H2><A name="Composite_Actions"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>DoAll(a1, a2, ..., an)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Do all actions <TT>a1</TT> to <TT>an</TT> and return the result of <TT>an</TT> in each invocation. The first <TT>n - 1</TT> sub-actions must return void. </TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>IgnoreResult(a)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Perform action <TT>a</TT> and ignore its result. <TT>a</TT> must not return void.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>WithArg&lt;N&gt;(a)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Pass the <TT>N</TT>-th (0-based) argument of the mock function to action <TT>a</TT> and perform it.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>WithArgs&lt;N1, N2, ..., Nk&gt;(a)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Pass the selected (0-based) arguments of the mock function to action <TT>a</TT> and perform it.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>WithoutArgs(a)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">Perform action <TT>a</TT> without any arguments.</TD></TR> </TBODY></TABLE><P></P></A><H2><A name="Defining_Actions">Defining Actions</A></H2><A name="Defining_Actions"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>ACTION(Sum) { return arg0 + arg1; }</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;"> Defines an action <TT>Sum()</TT> to return the sum of the mock function's argument #0 and #1. </TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>ACTION_P(Plus, n) { return arg0 + n; }</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;"> Defines an action <TT>Plus(n)</TT> to return the sum of the mock function's argument #0 and <TT>n</TT>. </TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>ACTION_Pk(Foo, p1, ..., pk) { statements; }</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;"> Defines a parameterized action <TT>Foo(p1, ..., pk)</TT> to execute the given <TT>statements</TT>. </TD></TR> </TBODY></TABLE><P></P><P>The <TT>ACTION*</TT> macros cannot be used inside a function or class. </P></A><H1><A name="Cardinalities">Cardinalities</A></H1><A name="Cardinalities"><P>These are used in <TT>Times()</TT> to specify how many times a mock function will be called: </P><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>AnyNumber()</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">The function can be called any number of times.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>AtLeast(n)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">The call is expected at least <TT>n</TT> times.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>AtMost(n)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">The call is expected at most <TT>n</TT> times.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Between(m, n)</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">The call is expected between <TT>m</TT> and <TT>n</TT> (inclusive) times.</TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"><TT>Exactly(n) or n</TT></TD><TD style="border: 1px solid #aaa; padding: 5px;">The call is expected exactly <TT>n</TT> times. In particular, the call should never happen when <TT>n</TT> is 0.</TD></TR> </TBODY></TABLE><P></P></A><H1><A name="Expectation_Order">Expectation Order</A></H1><A name="Expectation_Order"><P>By default, the expectations can be matched in <I>any</I> order.  If some or all expectations must be matched in a given order, there are two ways to specify it.  They can be used either independently or together. </P></A><H2><A name="The_After_Clause">The After Clause</A></H2><A name="The_After_Clause"><PRE class="prettyprint"><SPAN class="kwd">using</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">::</SPAN><SPAN class="pln">testing</SPAN><SPAN class="pun">::</SPAN><SPAN class="typ">Expectation</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="pun">...</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="typ">Expectation</SPAN><SPAN class="pln"> init_x </SPAN><SPAN class="pun">=</SPAN><SPAN class="pln"> EXPECT_CALL</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">foo</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">InitX</SPAN><SPAN class="pun">());</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="typ">Expectation</SPAN><SPAN class="pln"> init_y </SPAN><SPAN class="pun">=</SPAN><SPAN class="pln"> EXPECT_CALL</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">foo</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">InitY</SPAN><SPAN class="pun">());</SPAN><SPAN class="pln"><BR>EXPECT_CALL</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">foo</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Bar</SPAN><SPAN class="pun">())</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">After</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">init_x</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> init_y</SPAN><SPAN class="pun">);</SPAN></PRE><P>says that <TT>Bar()</TT> can be called only after both <TT>InitX()</TT> and <TT>InitY()</TT> have been called. </P><P>If you don't know how many pre-requisites an expectation has when you write it, you can use an <TT>ExpectationSet</TT> to collect them: </P><PRE class="prettyprint"><SPAN class="kwd">using</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">::</SPAN><SPAN class="pln">testing</SPAN><SPAN class="pun">::</SPAN><SPAN class="typ">ExpectationSet</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="pun">...</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="typ">ExpectationSet</SPAN><SPAN class="pln"> all_inits</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="kwd">for</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">(</SPAN><SPAN class="kwd">int</SPAN><SPAN class="pln"> i </SPAN><SPAN class="pun">=</SPAN><SPAN class="pln"> </SPAN><SPAN class="lit">0</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"> i </SPAN><SPAN class="pun">&lt;</SPAN><SPAN class="pln"> element_count</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"> i</SPAN><SPAN class="pun">++)</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">{</SPAN><SPAN class="pln"><BR>&nbsp; all_inits </SPAN><SPAN class="pun">+=</SPAN><SPAN class="pln"> EXPECT_CALL</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">foo</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">InitElement</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">i</SPAN><SPAN class="pun">));</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="pun">}</SPAN><SPAN class="pln"><BR>EXPECT_CALL</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">foo</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Bar</SPAN><SPAN class="pun">())</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">After</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">all_inits</SPAN><SPAN class="pun">);</SPAN></PRE><P>says that <TT>Bar()</TT> can be called only after all elements have been initialized (but we don't care about which elements get initialized before the others). </P><P>Modifying an <TT>ExpectationSet</TT> after using it in an <TT>.After()</TT> doesn't affect the meaning of the <TT>.After()</TT>. </P></A><H2><A name="Sequences">Sequences</A></H2><A name="Sequences"><P>When you have a long chain of sequential expectations, it's easier to specify the order using <STRONG>sequences</STRONG>, which don't require you to given each expectation in the chain a different name.  <I>All expected calls</I> in the same sequence must occur in the order they are specified. </P><PRE class="prettyprint"><SPAN class="kwd">using</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">::</SPAN><SPAN class="pln">testing</SPAN><SPAN class="pun">::</SPAN><SPAN class="typ">Sequence</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="typ">Sequence</SPAN><SPAN class="pln"> s1</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> s2</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="pun">...</SPAN><SPAN class="pln"><BR>EXPECT_CALL</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">foo</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Reset</SPAN><SPAN class="pun">())</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">InSequence</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">s1</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> s2</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">WillOnce</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">Return</SPAN><SPAN class="pun">(</SPAN><SPAN class="kwd">true</SPAN><SPAN class="pun">));</SPAN><SPAN class="pln"><BR>EXPECT_CALL</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">foo</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">GetSize</SPAN><SPAN class="pun">())</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">InSequence</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">s1</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">WillOnce</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">Return</SPAN><SPAN class="pun">(</SPAN><SPAN class="lit">1</SPAN><SPAN class="pun">));</SPAN><SPAN class="pln"><BR>EXPECT_CALL</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">foo</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">Describe</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">A</SPAN><SPAN class="pun">&lt;</SPAN><SPAN class="kwd">const</SPAN><SPAN class="pln"> </SPAN><SPAN class="kwd">char</SPAN><SPAN class="pun">*&gt;()))</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">InSequence</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">s2</SPAN><SPAN class="pun">)</SPAN><SPAN class="pln"><BR>&nbsp; &nbsp; </SPAN><SPAN class="pun">.</SPAN><SPAN class="typ">WillOnce</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">Return</SPAN><SPAN class="pun">(</SPAN><SPAN class="str">"dummy"</SPAN><SPAN class="pun">));</SPAN></PRE><P>says that <TT>Reset()</TT> must be called before <I>both</I> <TT>GetSize()</TT> <I>and</I> <TT>Describe()</TT>, and the latter two can occur in any order. </P><P>To put many expectations in a sequence conveniently: </P><PRE class="prettyprint"><SPAN class="kwd">using</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">::</SPAN><SPAN class="pln">testing</SPAN><SPAN class="pun">::</SPAN><SPAN class="typ">InSequence</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="pun">{</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="typ">InSequence</SPAN><SPAN class="pln"> dummy</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"><BR><BR>&nbsp; EXPECT_CALL</SPAN><SPAN class="pun">(...)...;</SPAN><SPAN class="pln"><BR>&nbsp; EXPECT_CALL</SPAN><SPAN class="pun">(...)...;</SPAN><SPAN class="pln"><BR>&nbsp; </SPAN><SPAN class="pun">...</SPAN><SPAN class="pln"><BR>&nbsp; EXPECT_CALL</SPAN><SPAN class="pun">(...)...;</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="pun">}</SPAN></PRE><P>says that all expected calls in the scope of <TT>dummy</TT> must occur in strict order. The name <TT>dummy</TT> is irrelevant.) </P></A><H1><A name="Verifying_and_Resetting_a_Mock">Verifying and Resetting a Mock</A></H1><A name="Verifying_and_Resetting_a_Mock"><P>Google Mock will verify the expectations on a mock object when it is destructed, or you can do it earlier: </P><PRE class="prettyprint"><SPAN class="kwd">using</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">::</SPAN><SPAN class="pln">testing</SPAN><SPAN class="pun">::</SPAN><SPAN class="typ">Mock</SPAN><SPAN class="pun">;</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="pun">...</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="com">// Verifies and removes the expectations on mock_obj;</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="com">// returns true iff successful.</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="typ">Mock</SPAN><SPAN class="pun">::</SPAN><SPAN class="typ">VerifyAndClearExpectations</SPAN><SPAN class="pun">(&amp;</SPAN><SPAN class="pln">mock_obj</SPAN><SPAN class="pun">);</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="pun">...</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="com">// Verifies and removes the expectations on mock_obj;</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="com">// also removes the default actions set by ON_CALL();</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="com">// returns true iff successful.</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="typ">Mock</SPAN><SPAN class="pun">::</SPAN><SPAN class="typ">VerifyAndClear</SPAN><SPAN class="pun">(&amp;</SPAN><SPAN class="pln">mock_obj</SPAN><SPAN class="pun">);</SPAN></PRE><P>You can also tell Google Mock that a mock object can be leaked and doesn't need to be verified: </P><PRE class="prettyprint"><SPAN class="typ">Mock</SPAN><SPAN class="pun">::</SPAN><SPAN class="typ">AllowLeak</SPAN><SPAN class="pun">(&amp;</SPAN><SPAN class="pln">mock_obj</SPAN><SPAN class="pun">);</SPAN></PRE></A><H1><A name="Mock_Classes">Mock Classes</A></H1><A name="Mock_Classes"><P>Google Mock defines a convenient mock class template </P><PRE class="prettyprint"><SPAN class="kwd">class</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">MockFunction</SPAN><SPAN class="pun">&lt;</SPAN><SPAN class="pln">R</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">A1</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">...,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">An</SPAN><SPAN class="pun">)&gt;</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">{</SPAN><SPAN class="pln"><BR>&nbsp;</SPAN><SPAN class="kwd">public</SPAN><SPAN class="pun">:</SPAN><SPAN class="pln"><BR>&nbsp; MOCK_METHODn</SPAN><SPAN class="pun">(</SPAN><SPAN class="typ">Call</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> R</SPAN><SPAN class="pun">(</SPAN><SPAN class="pln">A1</SPAN><SPAN class="pun">,</SPAN><SPAN class="pln"> </SPAN><SPAN class="pun">...,</SPAN><SPAN class="pln"> </SPAN><SPAN class="typ">An</SPAN><SPAN class="pun">));</SPAN><SPAN class="pln"><BR></SPAN><SPAN class="pun">};</SPAN></PRE></A><P><A name="Mock_Classes">See this </A><A href="http://code.google.com/p/googlemock/wiki/CookBook#Using_Check_Points">recipe</A> for one application of it. </P><H1><A name="Flags">Flags</A></H1><A name="Flags"><P></P><TABLE><TBODY><TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>--gmock_catch_leaked_mocks=0</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;"> Don't report leaked mock objects as failures. </TD></TR> <TR><TD style="border: 1px solid #aaa; padding: 5px;"> <TT>--gmock_verbose=LEVEL</TT> </TD><TD style="border: 1px solid #aaa; padding: 5px;"> Sets the default verbosity level (<TT>info</TT>, <TT>warning</TT>, or <TT>error</TT>) of Google Mock messages. </TD></TR> </TBODY></TABLE><P></P>
 </A></TD> 
 </TR>
 </TBODY></TABLE>
 </DIV>


 
 
<FORM name="delcom" action="http://code.google.com/p/googlemock/w/delComment.do" method="POST">
 <INPUT type="hidden" name="sequence_num" value="">
 <INPUT type="hidden" name="mode" value="">
 <INPUT type="hidden" name="pagename" value="CheatSheet">
 <INPUT type="hidden" name="token" value="">
</FORM>



<SCRIPT src="./CheatSheet - googlemock - Google C++ Mocking Framework Cheat Sheet - Project Hosting on Google Code_files/prettify.js"></SCRIPT>
<SCRIPT type="text/javascript">
 prettyPrint();
</SCRIPT>
<SCRIPT type="text/javascript" src="./CheatSheet - googlemock - Google C++ Mocking Framework Cheat Sheet - Project Hosting on Google Code_files/dit_scripts_20081013.js"></SCRIPT>



  
 
 <SCRIPT type="text/javascript" src="./CheatSheet - googlemock - Google C++ Mocking Framework Cheat Sheet - Project Hosting on Google Code_files/core_scripts_20081103.js"></SCRIPT>
 <SCRIPT type="text/javascript" src="./CheatSheet - googlemock - Google C++ Mocking Framework Cheat Sheet - Project Hosting on Google Code_files/codesite_product_dictionary_ph.pack.04102009.js"></SCRIPT>
 </DIV>
<DIV id="footer" dir="ltr">
 
 <DIV class="text">
 
 Â©2010 Google -
 <A href="http://code.google.com/projecthosting/terms.html">Terms</A> -
 <A href="http://www.google.com/privacy.html">Privacy</A> -
 <A href="http://code.google.com/p/support/">Project Hosting Help</A>
 
 </DIV>
</DIV>

 <DIV class="hostedBy" style="margin-top: -20px;">
 <SPAN style="vertical-align: top;">Powered by <A href="http://code.google.com/projecthosting/">Google Project Hosting</A></SPAN>
 </DIV>
 
 


 
 



<DIV class="menuDiv instance0" id="menuDiv-projects-dropdown" style="display: none; "><DIV class="menuCategory controls"><A class="menuItem" style="display: block; " href="http://www.google.com/accounts/ServiceLogin?service=code&ltmpl=phosting&continue=http%3A%2F%2Fcode.google.com%2Fp%2Fgooglemock%2Fwiki%2FCheatSheet&amp;followup=http%3A%2F%2Fcode.google.com%2Fp%2Fgooglemock%2Fwiki%2FCheatSheet">Sign in to see your favorites</A><HR class="menuSeparator"><A class="menuItem" style="display: block; " href="http://code.google.com/more/">Find developer products...</A><A class="menuItem" style="display: block; " href="http://code.google.com/hosting/">Find open source projects...</A></DIV></DIV></BODY></HTML>